{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\n function itemTemplate(hit) {\n  return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${hit.largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" />\n  </a>\n   <div class=\"image-details\">\n                    <p>Likes: ${hit.likes}</p>\n                    <p>Views: ${hit.views}</p>\n                    <p>Comments: ${hit.comments}</p>\n                    <p>Downloads: ${hit.downloads}</p>\n                </div>\n</li>`;\n};\n    \n \n    \n\n\nexport   function itemsTamplate(hits) {\n  return hits.map(itemTemplate).join('');\n};\n","\nimport axios from \"axios\";\n // HTTP request\nexport default async function getPostsByUser(query) {\n    const BASE_URL = \"https://pixabay.com\";\n    const END_POINT = '/api/';\n    const API_KEY = '42305658-75508782eac06a666c1fb928b';\n\n    const params = {\n        key: API_KEY,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        q: query,\n        //  perPage: perPage ,\n        //  page: page\n    \n    };\n\n\nconst url = `${BASE_URL}${END_POINT}?${new URLSearchParams(params)}`;\n  const response = await axios.get(url);\n return response.data\n    };\n","// iziToast import\nimport iziToast from \"izitoast\";\n// additional iziToast import\nimport \"izitoast/dist/css/iziToast.min.css\";\n//  SimpleLightbox import\nimport SimpleLightbox from \"simplelightbox\";\n// additional SimpleLightbox import\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { itemsTamplate } from './js/render-functions';\nimport getPostsByUser from './js/pixabay-api';\n\nconst searchForm = document.querySelector('.js-search-form');\nconst getImage = document.querySelector(\".gallery\");\nconst loader = document.querySelector('.loader');\nconst loadMore = document.querySelector('.load-more');\n // Total number of hits returned by the backend\nlet query\nsearchForm.addEventListener('submit', onFormSubmit)\n\nasync function onFormSubmit(e){\n   e.preventDefault();\n   query = e.target.elements.search.value.trim();\n   \n     if (!query) {\n\n        return iziToast.warning({\n            title: 'Warning',\n            message: 'Please enter a search query',\n            position: 'topCenter'\n        });\n    };  \n\n    \n    const data = await getPostsByUser(query);\n    getImage.innerHTML = '';\n    renderImages(data.hits);\n\n    e.target.reset()\n        };\n   \nfunction renderImages(hits) {\n    const markup = itemsTamplate(hits);\n    getImage.insertAdjacentHTML('beforeend', markup)\n}"],"names":["itemTemplate","hit","itemsTamplate","hits","getPostsByUser","query","BASE_URL","END_POINT","params","url","axios","searchForm","getImage","onFormSubmit","iziToast","data","renderImages","markup"],"mappings":"6vBACC,SAASA,EAAaC,EAAK,CAC1B,MAAO;AAAA,kCACyBA,EAAI,aAAa;AAAA,sCACbA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,gCAGxCA,EAAI,KAAK;AAAA,gCACTA,EAAI,KAAK;AAAA,mCACNA,EAAI,QAAQ;AAAA,oCACXA,EAAI,SAAS;AAAA;AAAA,MAGjD,CAMS,SAASC,EAAcC,EAAM,CACpC,OAAOA,EAAK,IAAIH,CAAY,EAAE,KAAK,EAAE,CACvC,CClBe,eAAeI,EAAeC,EAAO,CAChD,MAAMC,EAAW,sBACXC,EAAY,QAGZC,EAAS,CACX,IAHY,qCAIZ,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,EAAGH,CAIX,EAGMI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAI,IAAI,gBAAgBC,CAAM,CAAC,GAEjE,OADkB,MAAME,EAAM,IAAID,CAAG,GACrB,IACjB,CCXA,MAAME,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAW,SAAS,cAAc,UAAU,EACnC,SAAS,cAAc,SAAS,EAC9B,SAAS,cAAc,YAAY,EAEpD,IAAIP,EACJM,EAAW,iBAAiB,SAAUE,CAAY,EAElD,eAAeA,EAAa,EAAE,CAIzB,GAHF,EAAE,eAAc,EAChBR,EAAQ,EAAE,OAAO,SAAS,OAAO,MAAM,OAEjC,CAACA,EAEF,OAAOS,EAAS,QAAQ,CACpB,MAAO,UACP,QAAS,8BACT,SAAU,WACtB,CAAS,EAIL,MAAMC,EAAO,MAAMX,EAAeC,CAAK,EACvCO,EAAS,UAAY,GACrBI,EAAaD,EAAK,IAAI,EAEtB,EAAE,OAAO,MAAO,CAEpB,CACA,SAASC,EAAab,EAAM,CACxB,MAAMc,EAASf,EAAcC,CAAI,EACjCS,EAAS,mBAAmB,YAAaK,CAAM,CACnD"}